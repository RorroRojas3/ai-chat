<div
  class="d-flex mb-1 px-1"
  [ngClass]="{ 'justify-content-end': message().isOutgoing }"
>
  <div
    class="message-bubble p-3 rounded-4"
    [ngClass]="{
      'message-user': message().isOutgoing,
      'message-assistant bg-light': !message().isOutgoing,
      'rounded-bottom-end-1': message().isOutgoing,
      'rounded-bottom-start-1': !message().isOutgoing
    }"
    [attr.role]="message().isOutgoing ? 'article' : 'article'"
    [attr.aria-label]="
      message().isOutgoing ? 'Your message' : 'Assistant message'
    "
  >
    @if (!message().isOutgoing) {
    <div
      [innerHTML]="message().markdown"
      id="markdown-preview"
      class="message-content"
    ></div>
    } @else {
    <div class="message-content">{{ message().content }}</div>
    }
  </div>
</div>
